---
layout: post
title: "Bulut Bilişim Teknolojileri Kampı AWS Notları"

---

# Bütçeleme ve Maliyet Yönetimi ( Budgets and Planning)

Arama kısmına "budgets" veya ilgili servis ismini yazarak Faturalandırma ve Maliyet yönetimi servisini bulabiliriz. 

![image](https://github.com/user-attachments/assets/93660bc8-41a2-45c9-a800-180e3ca0643b)

Yan taraftaki menuden "Budgets" bütçeler bölümü, daha önce oluşturmaduysanız görseldeki gibi görünecektir.

![image](https://github.com/user-attachments/assets/1e39c388-e4b4-4f71-95f1-74f74c87ad31)

Bütçe oluşturmak için "Create budget" butonuna basılır. Burada, varsayılan ve özelleştirilen olarak iki türlü bütçe şablonu bulunur. Sonrasında bütçe türü seçilmesi gerekir. 
Zero spend budget, harcamanın hiç yapılmadığı bütçeleme. AWS Ücretsiz deneme hesapları için kullanılabilir. Hesap için harcanan maliyet $0.01 geçerse uyarı vermektedir. Diğer bütçeleme türlerinde ise, günlük veya aylık olarak yapılan bütçelemeler için kullanılır.

![image](https://github.com/user-attachments/assets/037d2864-9611-40ae-9b76-3173a08b57f9)

Oluşan bütçe şekildeki gibi görüntülenir.

![image](https://github.com/user-attachments/assets/accd7e22-ddc0-477f-b3c4-41c5d994f59b)

# AWS Temel Kavramlar

- REGION : AWS hizmetlerini kullanacağımız bölgeleri içerir.
- IAM : Açılımı Identity and Access Management olan servis, kullanıcı erişim ve yetkilerini yönetir. 
- VPC : Virtual Private Cloud, izole edilmiş bir sanal ağ oluşturur.
- EC2 : Elastic Compute Cloud, bulut tabanlı sanal sunucu hizmeti
- RDS : Relational Database Service, veritabanı servisi
- EBS : Elastic Block Store, ec2 sunucular için blok depolama alanı
- S3 : Simple Storage Service, uygulamaların depolama alanı
- EFS : Elastic File System, bulut ortamında paylaşımlı dosya depolama alanı.

# EC2 Sunucu Oluşturma
EC2, kısaca bulut tabanlı sanal sunucu oluşturma hizmetidir. Sunucu oluşturmak için arama kısmına ec2 yazalım ve çıkan servise tıklayalım.

![image](https://github.com/user-attachments/assets/ac3b55be-5b25-49a0-b3bc-d596fdd5150c)

Resources, kısmında kaç tane instance olarak isimlendirilen sunucuların çalıştığı, güvenlik grupları, uzaktan bağlantılar için oluşturulan anahtar değerler, depolama için kullanılan volumes olarak isimlendirilen depolamalar gibi bilgiler yer alır. 

Sunucu oluşturmak için "Launch instance" butonuna basalım.

![image](https://github.com/user-attachments/assets/d75e74fa-3a5a-43b9-af98-491b62e30269)

Sunucu ismi, işletim sistemi, instance türü, sunucuya bağlantı için anahtar çifti, ağ ayarları, depolama ve gelişmiş seçenekler yer almaktadır. Kullanım amacına ve gereksinimlere uygun şekilde sanal sunucu oluşturulabilir. Ücretsiz için "free tier eligible" olarak gösterilmektedir.

![image](https://github.com/user-attachments/assets/c74a1542-79a5-44eb-9573-b443a5267c8a)

Uzaktan bağlanmak için giriş anahtar çifti seçilir, eğer yoksa "create new key pair" seçeneği ile oluşturulabilir.

![image](https://github.com/user-attachments/assets/bccf6ee0-e6b2-417d-9eb1-04ff4d1fc1b4)

Oluşan anahtar çifti dosyası otomatik olarak indirilmektedir. Bu gizli anahtar(private key), ssh bağlantısı için kullanılır. 

Tüm ayarlar tamamlandıktan sonra, sunucu başlatılabilir.

![image](https://github.com/user-attachments/assets/c06a86b0-8f95-42e9-a4fc-2d2bce0a5892)

Oluşan bu suncuya erişim için terminal ekranından `ssh -i key_file.pem ec2-user@PUBLIC-IP` komutu çalıştırılır.

![image](https://github.com/user-attachments/assets/43d76994-cdcc-48e1-81b8-cc0ade1201d6)

Oluşan instance dair detaylı bilgilere ulaşmak için sunucunun seçili olması gerekmektedir. Güvenlik, networking ve depolama gibi ayarlar bu bölümden yapılır. Örneğin sunucuya ping atılması veya herhangi bir portuna erişim gerekiyor. Varsayılan olarak sadece 22 portu açık olduğu Security başlığı altında görülebilir.

![image](https://github.com/user-attachments/assets/bdffb71a-3b76-4715-8ff9-8739a0d95e65)

Inbound, makineye gelen trafiği filtreleyen kurallar. Outbound kurallar da makinenin erişebileceği port ve hedef adresleri filtreler. Sunucu, Inbound kurallara ICMP protokolüne izin verilmesi dahilinde ping paketlerine cevap verebilmektedir.

## Sunucu Koruması
Oluşturulan sunucunun durdurulmasını (stop) veya sonlandırılamsını (termination) önlemek için koruma ayarlarının açılması gerekmektedir.

![Screenshot 2024-08-18 185730](https://github.com/user-attachments/assets/282a8782-2950-4984-82a7-dbe2c9d0d608)


Sağ üst köşede bulunan **Actions** içerisinden **Instance settings** ayarlarından yapılmaktadır. Durdurulma koruma ayarları için "Change stop protection" basılır ve koruma aktif hale getirilir.

![image](https://github.com/user-attachments/assets/04075679-d641-4c3b-8436-31e97c91e605)


## Sunucu Türü Değiştirme
Kullanılan sunucunun kapasitesi yetersiz geldiği zaman, sunucu kapasitesi genişletilebilmektedir. Bunun için ilk önce sunucu durdurulmalıdır (stopped). **Actions** kısmından, **Instance Settings** > **Change instance type** seçeneği seçilir. Kullanılmak istenen tür değiştirilir ve yapılan değişiklikler görseldeki gibi uygulanabilir.

![image](https://github.com/user-attachments/assets/e913cc61-cf40-4440-b0df-c5cf277dc6f3)

Durdurulan sunucu tekrardan başlatılır `Instance State > Start Instance`.

## EC2 NGINX Kurulumu
ubuntu image ile ec2 instance oluşturuldu. Oluşan sunucuya ssh ile bağlantı kurulduktan sonra, root kullanıcısı olarak `apt install nginx` komutu ile nginx yüklenmektedir.

![image](https://github.com/user-attachments/assets/673ac231-860f-46a4-9a45-d8d76379be6a)

`systemctl status nginx` ile servisin çalıştığı kontrol edilebilir

![image](https://github.com/user-attachments/assets/04b2f1bf-9fce-4f9c-98f3-30ced1e519a8)

sunucuya http://IP ile erişim yapılabilir ancak inbound kuralında varsayılan olarak sadece ssh 22 portu açık olduğu için 80/http portuna izin verilmesi gerekmektedir. Tarayıcıdan, sunucuya erişildiğinde varsayılan nginx sayfası görünmektedir.

![image](https://github.com/user-attachments/assets/7c89abec-ecd0-4701-96ae-a757e5e4ac85)


Ek olarak instance oluştururken ağ ayarlarında, http veya https trafiğine izin verilirse 80 ve 433 portları açık olarak ec2 sunucu oluşturulur

![image](https://github.com/user-attachments/assets/aa6f48c7-48f5-4331-8741-a9985d781d7c)





## Web Sunucu Backup Alma

## IAM




